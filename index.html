<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Daily Tasks & Goals</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #0f172a;
      color: #e5e7eb;
      padding: 1rem;
    }
    .app {
      width: 100%;
      max-width: 480px;
      background: #020617;
      border-radius: 1.5rem;
      padding: 1.5rem 1.75rem 1.75rem;
      box-shadow: 0 20px 40px rgba(0,0,0,0.5);
      border: 1px solid #1f2937;
    }
    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.25rem;
    }
    .app-title {
      font-size: 1.4rem;
      font-weight: 600;
    }
    .app-date {
      font-size: 0.8rem;
      opacity: 0.7;
    }
    .stats {
      font-size: 0.85rem;
      opacity: 0.9;
      margin-bottom: 1rem;
    }
    .stats span {
      margin-right: 0.75rem;
    }
    .input-row {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .input-row input {
      flex: 1;
      padding: 0.6rem 0.75rem;
      border-radius: 0.75rem;
      border: 1px solid #374151;
      background: #020617;
      color: inherit;
      outline: none;
      font-size: 0.9rem;
    }
    .input-row input:focus {
      border-color: #6366f1;
    }
    .input-row button {
      padding: 0.6rem 0.9rem;
      border-radius: 0.75rem;
      border: none;
      background: #6366f1;
      color: white;
      font-weight: 500;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .input-row button:active {
      transform: scale(0.97);
    }
    .filters {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      font-size: 0.8rem;
    }
    .filter-btn {
      padding: 0.25rem 0.7rem;
      border-radius: 999px;
      border: 1px solid #374151;
      background: transparent;
      color: inherit;
      cursor: pointer;
      opacity: 0.8;
    }
    .filter-btn.active {
      background: #6366f1;
      border-color: #6366f1;
      opacity: 1;
    }
    ul {
      list-style: none;
      max-height: 320px;
      overflow-y: auto;
    }
    .task {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.55rem 0.65rem;
      margin-bottom: 0.35rem;
      border-radius: 0.75rem;
      background: #020617;
      border: 1px solid #111827;
    }
    .task-main {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex: 1;
    }
    .task input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }
    .task-title {
      font-size: 0.9rem;
      word-break: break-word;
    }
    .task.done .task-title {
      text-decoration: line-through;
      opacity: 0.6;
    }
    .task small {
      font-size: 0.7rem;
      opacity: 0.5;
    }
    .delete-btn {
      border: none;
      background: transparent;
      color: #f87171;
      cursor: pointer;
      font-size: 0.8rem;
      padding: 0.25rem 0.45rem;
      border-radius: 999px;
    }
    .delete-btn:hover {
      background: rgba(248,113,113,0.1);
    }
    .empty {
      font-size: 0.85rem;
      opacity: 0.6;
      text-align: center;
      margin-top: 1.25rem;
    }
    @media (max-width: 480px) {
      .app {
        padding: 1.25rem 1.25rem 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="app-title">Daily Tasks & Goals</div>
      <div class="app-date" id="date"></div>
    </header>

    <div class="stats" id="stats"></div>

    <div class="input-row">
      <input id="task-input" type="text" placeholder="Add a new task..." />
      <button id="add-btn">Add</button>
    </div>

    <div class="filters">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="active">Active</button>
      <button class="filter-btn" data-filter="completed">Completed</button>
    </div>

    <ul id="task-list"></ul>
    <p class="empty" id="empty-state" style="display:none;">No tasks here yet. Add your first goal for today ðŸ‘€</p>
  </div>

  <script>
    const STORAGE_KEY = "daily_tasks_v1";

    const dateEl = document.getElementById("date");
    const statsEl = document.getElementById("stats");
    const inputEl = document.getElementById("task-input");
    const addBtn = document.getElementById("add-btn");
    const listEl = document.getElementById("task-list");
    const emptyEl = document.getElementById("empty-state");
    const filterButtons = document.querySelectorAll(".filter-btn");

    let tasks = [];
    let currentFilter = "all";

    // Format today's date
    const today = new Date();
    dateEl.textContent = today.toLocaleDateString("en-GB", {
      weekday: "short",
      day: "2-digit",
      month: "short",
    });

    // Load from localStorage
    function loadTasks() {
      const raw = localStorage.getItem(STORAGE_KEY);
      tasks = raw ? JSON.parse(raw) : [];
    }

    function saveTasks() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    }

    function updateStats() {
      const total = tasks.length;
      const completed = tasks.filter(t => t.done).length;
      const active = total - completed;
      statsEl.innerHTML = `
        <span>Total: <strong>${total}</strong></span>
        <span>Active: <strong>${active}</strong></span>
        <span>Done: <strong>${completed}</strong></span>
      `;
    }

    function renderTasks() {
      listEl.innerHTML = "";

      let visibleTasks = tasks;
      if (currentFilter === "active") {
        visibleTasks = tasks.filter(t => !t.done);
      } else if (currentFilter === "completed") {
        visibleTasks = tasks.filter(t => t.done);
      }

      if (visibleTasks.length === 0) {
        emptyEl.style.display = "block";
        return;
      } else {
        emptyEl.style.display = "none";
      }

      visibleTasks.forEach(task => {
        const li = document.createElement("li");
        li.className = "task" + (task.done ? " done" : "");
        li.dataset.id = task.id;

        li.innerHTML = `
          <div class="task-main">
            <input type="checkbox" ${task.done ? "checked" : ""} />
            <div>
              <div class="task-title">${task.title}</div>
              <small>${task.createdAt}</small>
            </div>
          </div>
          <button class="delete-btn">âœ•</button>
        `;

        listEl.appendChild(li);
      });

      updateStats();
    }

    function addTask(title) {
      if (!title.trim()) return;
      const now = new Date();
      tasks.push({
        id: Date.now().toString(),
        title: title.trim(),
        done: false,
        createdAt: now.toLocaleTimeString("en-GB", { hour: "2-digit", minute: "2-digit" })
      });
      saveTasks();
      inputEl.value = "";
      renderTasks();
    }

    function toggleTask(id) {
      tasks = tasks.map(t =>
        t.id === id ? { ...t, done: !t.done } : t
      );
      saveTasks();
      renderTasks();
    }

    function deleteTask(id) {
      tasks = tasks.filter(t => t.id !== id);
      saveTasks();
      renderTasks();
    }

    // Events
    addBtn.addEventListener("click", () => {
      addTask(inputEl.value);
    });

    inputEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        addTask(inputEl.value);
      }
    });

    listEl.addEventListener("click", (e) => {
      const li = e.target.closest(".task");
      if (!li) return;
      const id = li.dataset.id;

      if (e.target.matches('input[type="checkbox"]')) {
        toggleTask(id);
      }
      if (e.target.classList.contains("delete-btn")) {
        deleteTask(id);
      }
    });

    filterButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        filterButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        currentFilter = btn.dataset.filter;
        renderTasks();
      });
    });

    // Init
    loadTasks();
    renderTasks();
  </script>
</body>
</html>
